# 代理配置说明

## 为什么需要代理？

某些交易所的 API 可能在国内无法直接访问，需要通过代理服务器。

## 如何配置代理？

### 方法 1：使用环境变量（推荐）

在 `gap-trader-backend` 目录下创建 `.env` 文件：

```env
# 代理服务器地址
PROXY_URL=http://127.0.0.1:1080

# 是否启用代理
USE_PROXY=true
```

### 方法 2：直接修改代码

编辑 `test_symbol_format.py`：

```python
# 代理配置
PROXY_CONFIG = {
    'http': 'http://127.0.0.1:1080',
    'https': 'http://127.0.0.1:1080',
}

# 是否启用代理
USE_PROXY = True
```

## 代理类型

支持以下代理类型：
- HTTP 代理：`http://127.0.0.1:1080`
- HTTPS 代理：`http://127.0.0.1:1080`
- Socks5 代理：`socks5://127.0.0.1:1080`（需要安装 `requests[socks]`）

## 常见代理软件端口

- Clash: `http://127.0.0.1:7890`
- V2Ray: `http://127.0.0.1:10809`
- Shadowsocks: `socks5://127.0.0.1:1080`
- 自定义代理: 根据你的配置设置

## 禁用代理

如果不需要代理，设置：

```env
USE_PROXY=false
```

或在代码中：

```python
USE_PROXY = False
```

## 测试代理是否工作

运行测试脚本时，会显示代理配置信息：

```
🌐 代理配置:
   - HTTP: http://127.0.0.1:1080
   - HTTPS: http://127.0.0.1:1080
   - 状态: ✅ 已启用
```

如果看到连接错误，请检查：
1. 代理服务器是否正在运行
2. 代理地址和端口是否正确
3. 防火墙是否允许连接


